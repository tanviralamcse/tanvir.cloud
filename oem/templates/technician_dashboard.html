{% extends "simple.html" %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-xl">
    <h2 class="text-3xl font-semibold text-gray-900 mb-6">Technician Dashboard</h2>
    <h2 class="text-3xl font-semibold text-gray-900 mb-6">{{ technician.username }}</h2>

    <!-- Job Listings Button -->
    <div class="text-center mt-6">
        <a href="{% url 'job_list' %}" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
            View Job Listings
        </a>
    </div>
<!-- Job Applications Section -->
<div class="mb-6">
    <h3 class="text-xl font-semibold text-gray-800">Your Job Applications</h3>
    <ul class="mt-3 space-y-3">
        {% for application in job_applications %}
            <li class="p-4 border rounded-lg shadow-sm bg-gray-100">
                <strong class="block">{{ application.request.title }}</strong>
                <p class="text-gray-700">Description: {{ application.request.description }}</p>
                <p class="text-gray-700">Status: {{ application.status }}</p>
                <p class="text-gray-700">Price Offer: {{ application.price_offer }}</p>
                <p class="text-gray-500 text-sm">Applied At: {{ application.applied_at }}</p>
            </li>
        {% empty %}
            <p class="text-gray-500">No job applications found.</p>
        {% endfor %}
    </ul>
</div>

    

    <!-- Ongoing Jobs -->
    <div class="mb-6">
        <h3 class="text-xl font-semibold text-gray-800">Ongoing Jobs</h3>
        <ul class="mt-3 space-y-3">
            {% for job in ongoing_jobs %}
                <li class="p-4 border rounded-lg shadow-sm bg-green-100">
                    <strong>{{ job.service_request.title }}</strong> - In Progress
                </li>
            {% empty %}
                <p class="text-gray-500">No ongoing jobs.</p>
            {% endfor %}
        </ul>
    </div>


</div>
{% endblock %}
